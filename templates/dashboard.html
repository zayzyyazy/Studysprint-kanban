{% extends "base.html" %}

{% block title %}Dashboard – StudySprint{% endblock %}

{% block content %}
<section class="page-header">
  <h1>My Study Dashboard</h1>
  <p class="subtitle">Track your progress across all subjects.</p>
</section>

{% if subjects %}
<div class="subject-grid">
  {% for subj in subjects %}
  <a href="{{ url_for('subject', subject_id=subj.id) }}" class="subject-card">
    <div class="subject-card__header">
      <h2 class="subject-card__name">{{ subj.name }}</h2>
      <span class="subject-card__count">{{ subj.topic_count }} topic{% if subj.topic_count != 1 %}s{% endif %}</span>
    </div>

    <div class="subject-card__pct">{{ subj.overall_completion }}%</div>

    <div class="progress-track">
      <div class="progress-fill" style="width: {{ subj.overall_completion }}%"></div>
    </div>

    <span class="subject-card__cta">View Board &rarr;</span>
  </a>
  {% endfor %}
</div>
{% else %}
<p class="empty-state">No subjects yet — add one below to get started.</p>
{% endif %}

<section class="add-panel">
  <h2 class="add-panel__title">Add Subject</h2>
  <form method="POST" action="{{ url_for('add_subject') }}" class="add-form">
    <input
      type="text"
      name="name"
      placeholder="e.g. Mathematics"
      required
      class="form-input"
      autocomplete="off"
    />
    <button type="submit" class="btn btn--primary">+ Add Subject</button>
  </form>
</section>
{% endblock %}
